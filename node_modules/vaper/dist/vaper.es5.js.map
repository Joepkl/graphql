{"version":3,"file":"vaper.es5.js","sources":["../src/index.ts"],"sourcesContent":["import isArray from 'lodash.isarray'\nimport isObject from 'lodash.isobject'\n\nclass Vaper {\n  public parseArray = (replaceFrom: any, replaceWith: any) => (array: any) =>\n    array.map((v: any) => {\n      if (isArray(v)) {\n        return this.parseArray(replaceFrom, replaceWith)(v)\n      }\n      if (isObject(v)) {\n        return this.parseObject(replaceFrom, replaceWith)(v)\n      }\n\n      return this.valueReplacer(replaceFrom, replaceWith)(v)\n    })\n\n  public parseObject = (replaceFrom: any, replaceWith: any) => (\n    object: any\n  ) => {\n    /**\n     * Recursive function that change object deeply.\n     * @param {Object} child data object child value to convert.\n     */\n    const recursive = (child: any) => {\n      const newObject: { [key: string]: any } = {}\n\n      Object.keys(child).map((k) => {\n        const value = child[k]\n\n        if (isArray(value)) {\n          newObject[k] = this.parseArray(replaceFrom, replaceWith)(value)\n        } else if (isObject(value)) {\n          newObject[k] = recursive(value)\n        } else {\n          newObject[k] = this.valueReplacer(replaceFrom, replaceWith)(value)\n        }\n\n        return true\n      })\n\n      return newObject\n    }\n\n    return recursive(object)\n  }\n\n  public valueReplacer = (replaceFrom: any, replaceWith: any) => (\n    value: any\n  ) => {\n    if (value === replaceFrom) return replaceWith\n    return value\n  }\n}\n\nconst vaper = new Vaper()\n\nexport default (replaceFrom: any, replaceWith: any) => (data: any) => {\n  if (isArray(data)) return vaper.parseArray(replaceFrom, replaceWith)(data)\n  if (isObject(data)) return vaper.parseObject(replaceFrom, replaceWith)(data)\n\n  return vaper.valueReplacer(replaceFrom, replaceWith)(data)\n}\n"],"names":[],"mappings":";;;AAGA;IAAA;QAAA,iBAiDC;QAhDQ,eAAU,GAAG,UAAC,WAAgB,EAAE,WAAgB,IAAK,OAAA,UAAC,KAAU;YACrE,OAAA,KAAK,CAAC,GAAG,CAAC,UAAC,CAAM;gBACf,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE;oBACd,OAAO,KAAI,CAAC,UAAU,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;iBACpD;gBACD,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;oBACf,OAAO,KAAI,CAAC,WAAW,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;iBACrD;gBAED,OAAO,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;aACvD,CAAC;SAAA,GAAA,CAAA;QAEG,gBAAW,GAAG,UAAC,WAAgB,EAAE,WAAgB,IAAK,OAAA,UAC3D,MAAW;;;;;YAMX,IAAM,SAAS,GAAG,UAAC,KAAU;gBAC3B,IAAM,SAAS,GAA2B,EAAE,CAAA;gBAE5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC;oBACvB,IAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;oBAEtB,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;wBAClB,SAAS,CAAC,CAAC,CAAC,GAAG,KAAI,CAAC,UAAU,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,KAAK,CAAC,CAAA;qBAChE;yBAAM,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;wBAC1B,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAA;qBAChC;yBAAM;wBACL,SAAS,CAAC,CAAC,CAAC,GAAG,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,KAAK,CAAC,CAAA;qBACnE;oBAED,OAAO,IAAI,CAAA;iBACZ,CAAC,CAAA;gBAEF,OAAO,SAAS,CAAA;aACjB,CAAA;YAED,OAAO,SAAS,CAAC,MAAM,CAAC,CAAA;SACzB,GAAA,CAAA;QAEM,kBAAa,GAAG,UAAC,WAAgB,EAAE,WAAgB,IAAK,OAAA,UAC7D,KAAU;YAEV,IAAI,KAAK,KAAK,WAAW;gBAAE,OAAO,WAAW,CAAA;YAC7C,OAAO,KAAK,CAAA;SACb,GAAA,CAAA;KACF;IAAD,YAAC;CAAA,IAAA;AAED,IAAM,KAAK,GAAG,IAAI,KAAK,EAAE,CAAA;AAEzB,aAAe,UAAC,WAAgB,EAAE,WAAgB,IAAK,OAAA,UAAC,IAAS;IAC/D,IAAI,OAAO,CAAC,IAAI,CAAC;QAAE,OAAO,KAAK,CAAC,UAAU,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,CAAA;IAC1E,IAAI,QAAQ,CAAC,IAAI,CAAC;QAAE,OAAO,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,CAAA;IAE5E,OAAO,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,CAAA;CAC3D,GAAA,EAAA;;;;"}